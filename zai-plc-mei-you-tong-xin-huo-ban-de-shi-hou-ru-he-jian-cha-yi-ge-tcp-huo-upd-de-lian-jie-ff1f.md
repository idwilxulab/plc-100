如果在PLC没有通信伙伴的时候想测试一个 TCP 或 UDP 的通信连接应用，你可以通过PC来测试，而该PC机无需额外安装软件，步骤如下：

1. 将PC机的IP地址设置为在TCP/UDP连接设置中通信伙伴的IP地址。
2. 输入编号为7或者9作为伙伴端口，区别见表1
3. 下载配置。
4. 测试连接并检查连接状态，也可发送数据。



| 端口 | 含义 |
| :--- | :--- |
| 7  | ECHO，PC 允许通过该端口建立连接，所有通过该端口发送至 PC 的数据都会被 PC 确认，之后PC 将同样的数据发送给发送方 |
| 9  | DISCARD，PC允许通过该端口建立连接，所有通过该端口发送至 PC 的数据都会被 PC 确认，PC不会发送确认信息并遗弃该数据。 |

表1 

如果连接没有建立，除检查控制器的设置外还需检查PC端的设置。

在Windows XP

* 到"控制面板 &gt; 软件".
* 点击"添加/删除Windows组件".
* 点击 "网络服务"
* 使能其中的"简单 TCP/IP 服务".

在Windows 7

* 到"控制面板 &gt; 程序和特性"。
* 点击 "激活Windows 特性"。
* 使能 "简单 TCP/IP 服务"。

注：

* 在 C:/Windows/System32/drivers/etc/下打开 "Services"文件，如果端口7和9没有列出，则不能使用该PC进行测试。
* 如果该PC的防火墙被激活，则有可能会阻挡该端口。
* 在防火墙设置中允许该端口.
* 同样在网络中队每个路由器的防火墙进行设置，确保端口7和9没有被阻挡。
* 测试完成后，移除所有修改的防火墙设置。



